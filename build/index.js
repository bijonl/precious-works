(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,r=window.wp.blockEditor,s=window.wp.components,i=window.ReactJSXRuntime,l=e=>{const{attributes:t,setAttributes:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Custom Settings",children:[(0,i.jsx)(s.TextControl,{label:"Big Hero Text",value:t.bigHeroText,onChange:e=>l({bigHeroText:e})}),(0,i.jsx)(s.TextControl,{label:"Small Hero Text",value:t.smallerHeroText,onChange:e=>l({smallerHeroText:e})}),(0,i.jsx)(r.URLInputButton,{label:"Select Link",url:t.buttonURL,onChange:(e,t)=>l({buttonURL:e}),style:{maxWidth:"100%",width:"100%"}}),(0,i.jsx)(s.TextControl,{label:"Button Text",value:t.buttonText,onChange:e=>l({buttonText:e})}),(0,i.jsx)(r.URLInputButton,{label:"Select Second Link",url:t.buttonTwoURL,onChange:(e,t)=>l({buttonTwoURL:e}),style:{maxWidth:"100%",width:"100%"}}),(0,i.jsx)(s.TextControl,{label:"Second Button Text",value:t.buttonTwoText,onChange:e=>l({buttonTwoText:e})})]})}),(0,i.jsx)("section",{...(0,r.useBlockProps)({className:"homepage-hero-section"}),children:(0,i.jsx)("div",{className:"container homepage-hero-container",children:(0,i.jsx)("div",{className:"homepage-hero-row row",children:(0,i.jsxs)("div",{className:"col-sm-12 homepage-hero-col text-center",children:[(0,i.jsx)(r.RichText,{tagName:"h1",className:"text-primary mb-3",value:t.bigHeroText,onChange:e=>l({bigHeroText:e}),placeholder:"Enter heading..."}),(0,i.jsx)(r.RichText,{tagName:"p",className:"text-muted",value:t.smallerHeroText,onChange:e=>l({smallerHeroText:e}),placeholder:"Enter content...",inlineToolbar:!0}),(0,i.jsxs)("div",{className:"homepage-hero-button mt-4",children:[(0,i.jsx)(r.URLInputButton,{url:t.buttonURL,onChange:e=>l({buttonURL:e}),label:"Set Button URL"}),(0,i.jsx)(s.TextControl,{label:"Button Text",value:t.buttonText,onChange:e=>l({buttonText:e})}),t.buttonURL&&(0,i.jsx)("a",{href:t.buttonURL,className:"btn btn-primary mt-3",target:"_blank",rel:"noopener noreferrer",children:t.buttonText||"Click me"}),t.buttonTwoURL&&(0,i.jsx)("a",{href:t.buttonTwoURL,className:"btn btn-primary mt-3",target:"_blank",rel:"noopener noreferrer",children:t.buttonTwoText||"Click me"})]})]})})})})]})},o=e=>{const{attributes:t}=e,{bigHeroText:s,smallerHeroText:l}=t;return(0,i.jsx)("section",{...r.useBlockProps.save(),className:"homepage-hero-section",children:(0,i.jsx)("div",{className:"container homepage-hero-container",children:(0,i.jsx)("div",{className:"homepage-hero-row row",children:(0,i.jsx)("div",{className:"col-sm-9 mx-auto homepage-hero-col text-center",children:(0,i.jsxs)("div",{className:"homepage-hero-content-wrapper",children:[(0,i.jsxs)("div",{className:"homepage-hero-content-text",children:[(0,i.jsx)("h1",{children:s}),(0,i.jsx)("p",{children:l})]}),(0,i.jsxs)("div",{className:"hero-button-wrapper",children:[t.buttonURL&&(0,i.jsx)("a",{href:t.buttonURL,className:"pw-solid-button","aria-label":t.buttonText?`${t.buttonText} (link to ${t.buttonURL})`:`Go to ${t.buttonURL}`,children:t.buttonText||"Click me"}),t.buttonTwoURL&&(0,i.jsx)("a",{href:t.buttonTwoURL,className:"outline-pw-button","aria-label":t.buttonTwoText?`${t.buttonTwoText} (link to ${t.buttonTwoURL})`:`Go to ${t.buttonTwoURL}`,children:t.buttonTwoText||"Click me"})]})]})})})})})};(0,t.registerBlockType)("precious-works/hero-area",{title:"Hero Area",description:"This will serve as the hero area for the page.",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{bigHeroText:{type:"string",default:"Big Heading"},smallerHeroText:{type:"string",default:"Small Heading"},buttonURL:{type:"string"},buttonText:{type:"string"},buttonTwoURL:{type:"string"},buttonTwoText:{type:"string"}},edit:e=>(0,i.jsx)(l,{...e}),save:e=>(0,i.jsx)(o,{...e})});const n=e=>{const{attributes:t,setAttributes:l}=e,{imageUrl:o,imageId:n,imageAlt:a,textHeading:c,textContent:d}=t,u=e=>{l({imageUrl:e.url,imageId:e.id,imageAlt:e.alt||e.title||""})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.InspectorControls,{children:[(0,i.jsx)(s.PanelBody,{title:"Custom Settings",children:(0,i.jsx)(s.TextControl,{label:"Text Heading",value:c,onChange:e=>l({textHeading:e})})}),(0,i.jsxs)(s.PanelBody,{title:"Image Settings",children:[(0,i.jsx)(r.MediaUploadCheck,{children:(0,i.jsx)(r.MediaUpload,{onSelect:u,allowedTypes:["image"],value:n,render:({open:e})=>(0,i.jsx)(s.Button,{onClick:e,isPrimary:!0,children:o?"Change Image":"Select Image"})})}),o&&(0,i.jsxs)(s.BaseControl,{children:[(0,i.jsx)("img",{src:o,alt:a||"",style:{width:"100%",height:"auto"}}),(0,i.jsx)(s.Button,{onClick:()=>l({imageUrl:"",imageId:void 0,imageAlt:""}),isDestructive:!0,style:{marginTop:"5px"},children:"Remove Image"})]})]})]}),(0,i.jsx)("div",{...(0,r.useBlockProps)({className:"container my-4"}),children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-sm-6 mb-4",children:[(0,i.jsx)(r.RichText,{tagName:"h2",className:"two-col-heading",value:c,onChange:e=>l({textHeading:e}),placeholder:"Enter heading..."}),(0,i.jsx)(r.RichText,{tagName:"div",className:"text-muted",multiline:"p",value:d,onChange:e=>l({textContent:e}),placeholder:"Start typing your content..."})]}),(0,i.jsx)("div",{className:"col-sm-6",children:o?(0,i.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[(0,i.jsx)("img",{src:o,alt:a||"",className:"img-fluid mb-2"}),(0,i.jsx)(s.Button,{onClick:()=>l({imageUrl:"",imageId:void 0,imageAlt:""}),isDestructive:!0,children:"Remove Image"})]}):(0,i.jsx)(r.MediaUploadCheck,{children:(0,i.jsx)(r.MediaUpload,{onSelect:u,allowedTypes:["image"],value:n,render:({open:e})=>(0,i.jsx)(s.Button,{onClick:e,isPrimary:!0,children:"Upload Image"})})})})]})})]})},a=e=>{const{attributes:t}=e,{textHeading:s,textContent:l,imageUrl:o,imageAlt:n,imageCaption:a}=t;return(0,i.jsx)("section",{...r.useBlockProps.save(),className:"two-col-img-text-section",children:(0,i.jsx)("div",{className:"two-col-container container",children:(0,i.jsxs)("div",{className:"two-col-row row align-items-center",children:[(0,i.jsxs)("div",{className:"text-col col-lg-5",children:[(0,i.jsx)("h3",{className:"two-col-heading",children:s}),(0,i.jsx)(r.RichText.Content,{tagName:"div",className:"text-muted",value:l})]}),(0,i.jsx)("div",{className:"img-col col-lg-6 ms-auto",children:o&&(0,i.jsxs)("figure",{children:[(0,i.jsx)("img",{src:o,alt:n||"",role:n?"presentation":"",className:"img-fluid",loading:"lazy"}),a&&(0,i.jsx)("figcaption",{children:a})]})})]})})})};(0,t.registerBlockType)("precious-works/two-col-image-text",{title:"Two Column Image/Text",description:"A two column block with image and text",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{textHeading:{type:"string",default:"Default text here"},textContent:{type:"string",source:"html",selector:".text-muted"},imageUrl:{type:"string",default:""},imageId:{type:"number"},imageAlt:{type:"string",default:""}},edit:e=>(0,i.jsx)(n,{...e}),save:e=>(0,i.jsx)(a,{...e})});const c=window.wp.element,d=e=>{const{attributes:t,setAttributes:l}=e,o=(e,r,s)=>{const i=[...t.wildcards];i[e][r]=s,l({wildcards:i})},n=t.wildcards.map(((e,n)=>(0,i.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,i.jsx)(s.TextControl,{placeholder:"Insert Card Title",value:e.cardTitle,onChange:e=>o(n,"cardTitle",e)}),(0,i.jsx)(s.TextareaControl,{placeholder:"Insert Card Description",value:e.cardDescription,onChange:e=>o(n,"cardDescription",e)}),(0,i.jsx)(r.MediaUpload,{onSelect:e=>{o(n,"cardIcon",e.url),o(n,"cardAlt",e.alt||"")},allowedTypes:["image"],render:({open:t})=>(0,i.jsxs)(i.Fragment,{children:[e.cardIcon&&(0,i.jsx)("img",{src:e.cardIcon,alt:e.cardAlt||"",style:{maxWidth:"100px",display:"block",marginBottom:"0.5em"}}),(0,i.jsx)(s.Button,{onClick:t,isSecondary:!0,children:e.cardIcon?"Replace Image":"Select Image"})]})}),(0,i.jsx)(s.IconButton,{icon:"no-alt",label:"Delete wildcard",onClick:()=>(e=>{const r=[...t.wildcards];r.splice(e,1),l({wildcards:r})})(n),className:"components-button is-link is-destructive"})]},n)));return(0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Wildcards",children:[(0,i.jsx)(s.TextControl,{placeholder:"Wildcard Section Title",value:t.wildcardSectionTitle,onChange:e=>l({wildcardSectionTitle:e})}),(0,i.jsx)(s.TextareaControl,{placeholder:"Wildcard Subtitle",value:t.wildcardSubtitle,onChange:e=>l({wildcardSubtitle:e})}),n,(0,i.jsx)(s.Button,{isSecondary:!0,onClick:()=>{const e=[...t.wildcards];e.push({cardTitle:"",cardIcon:"",cardAlt:"",cardDescription:""}),l({wildcards:e})},children:"Add Wildcard"})]})}),(0,i.jsx)("section",{...(0,r.useBlockProps)(),className:"wildcard-section",children:(0,i.jsxs)("div",{className:"container wildcard-container",children:[(0,i.jsx)("h2",{children:t.wildcardSectionTitle}),(0,i.jsx)("p",{children:t.wildcardSubtitle}),(0,i.jsx)("div",{className:"wildcard-row row",children:t.wildcards.map(((e,t)=>(0,i.jsx)("div",{className:"col-sm-6",children:(0,i.jsxs)("div",{className:"single-wildcard-row",children:[e.cardIcon&&(0,i.jsx)("img",{src:e.cardIcon,alt:e.cardAlt||"",style:{maxWidth:"80px",marginBottom:"0.5em"}}),(0,i.jsx)("h4",{children:e.cardTitle}),(0,i.jsx)("p",{children:e.cardDescription})]})},t)))})]})})]})},u=({attributes:e})=>(0,i.jsx)("section",{...r.useBlockProps.save(),className:"wildcard-section",children:(0,i.jsxs)("div",{className:"wildcard-container container",children:[(0,i.jsx)("div",{className:"wildcard-title-row title-row row",children:(0,i.jsxs)("div",{className:"col-lg-6 title-col",children:[e.wildcardSectionTitle&&(0,i.jsx)("h2",{children:e.wildcardSectionTitle}),e.wildcardSubtitle&&(0,i.jsx)("p",{children:e.wildcardSubtitle})]})}),(0,i.jsx)("div",{className:"wildcard-row row g-5",children:e.wildcards.map(((e,t)=>(0,i.jsx)("div",{className:"wildcard-col col-sm-6 "+(t%2==0?"me-auto":"ms-auto"),children:(0,i.jsxs)("article",{className:"wildcard-card",tabIndex:"0","aria-label":`Card ${t+1}: ${e.cardTitle}`,children:[e.cardIcon&&(0,i.jsx)("img",{src:e.cardIcon,alt:e.cardAlt||""}),(0,i.jsx)("div",{className:"card-title",children:(0,i.jsx)("h4",{children:e.cardTitle})}),(0,i.jsx)("div",{className:"card-description",children:e.cardDescription})]})},t)))})]})});(0,t.registerBlockType)("precious-works/services-wildcards",{title:"Services Wildcards",description:"Wildcard Repeater for Services",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{wildcardSectionTitle:{type:"string",default:"Wildcard Section Title"},wildcardSubtitle:{type:"string",default:""},wildcards:{type:"array",default:[],source:"query",selector:".wildcard-card",query:{cardTitle:{type:"string",source:"text",selector:".card-title"},cardIcon:{type:"string",source:"attribute",selector:"img",attribute:"src"},cardAlt:{type:"string",source:"attribute",selector:"img",attribute:"alt"},cardDescription:{type:"string",source:"text",selector:".card-description"}}}},edit:e=>(0,i.jsx)(d,{...e}),save:e=>(0,i.jsx)(u,{...e})});const x=window.wp.apiFetch;var h=e.n(x);const m=e=>{const{attributes:t,setAttributes:l}=e,[o,n]=(0,c.useState)(null),[a,d]=(0,c.useState)([]);function u(e){const t=a.includes(e)?a.filter((t=>t!==e)):[...a,e];d(t),l({testimonials:t})}(0,c.useEffect)((()=>{t.testimonials&&d(t.testimonials)}),[]);const x=o?o.filter((e=>a.includes(e.id))):[];return(0,c.useEffect)((()=>{h()({path:"/wp/v2/testimonials"}).then((e=>{n(e)}),(e=>{console.error("Error fetching staff data:",e),n([])}))}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Testimonials",children:[(0,i.jsx)("p",{children:"All Testimonials"}),o?o.map((e=>(0,i.jsx)("button",{onClick:()=>u(e.id),children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"No Testimonials Found"}),(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:"Selected Testimonials"}),x?x.map((e=>(0,i.jsx)("button",{onClick:()=>u(e.id),children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"No Testimonials Selected"})]})}),(0,i.jsx)(i.Fragment,{children:x?x.map((e=>(0,i.jsxs)("div",{children:[e.title.rendered,(0,i.jsx)("br",{}),e.quote_attribute]}))):(0,i.jsx)("p",{children:"No Testimonials Selected"})})]})},p=()=>null;(0,t.registerBlockType)("precious-works/testimonials",{title:"Testimonials",description:"This will output testimonials.",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{testimonials:{type:"array",default:[]},anchor:{type:"string",default:""}},edit:e=>(0,i.jsx)(m,{...e}),save:e=>(0,i.jsx)(p,{...e})});const g=e=>{const{attributes:t,setAttributes:l}=e,[o,n]=(0,c.useState)(null),[a,d]=(0,c.useState)([]),u=e=>{d((t=>{const r=t.includes(e)?t.filter((t=>t!==e)):[...t,e];return l({staffMembers:r}),r}))},x=o?o.filter((e=>a.includes(e.id))):[];return(0,c.useEffect)((()=>{h()({path:"/wp/v2/staff"}).then((e=>{n(e)}),(e=>{console.error("Error fetching staff data:",e),n([])}))}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Staff",initialOpen:!0,children:[(0,i.jsx)("p",{children:"Staff List:"}),o?o.map((e=>(0,i.jsx)("button",{onClick:()=>u(e.id),style:{display:"block",marginBottom:"4px",backgroundColor:a.includes(e.id)?"lightgreen":"transparent",border:"1px solid #ccc",padding:"4px",cursor:"pointer"},children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"Loading..."}),(0,i.jsx)("p",{children:"Selected Staff:"}),x.length>0?x.map((e=>(0,i.jsx)("button",{onClick:()=>u(e.id),style:{display:"block",marginBottom:"4px",backgroundColor:"lightcoral",border:"1px solid #ccc",padding:"4px",cursor:"pointer"},children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"No staff selected"})]})}),(0,i.jsx)("div",{children:"Staff"})]})},j=()=>null;(0,t.registerBlockType)("precious-works/staff-block",{title:"Staff Block",description:"This will output staff members onto the page.",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{staffMembers:{type:"array",default:[]},anchor:{type:"string",default:""}},edit:e=>(0,i.jsx)(g,{...e}),save:e=>(0,i.jsx)(j,{...e})});const b=e=>{const{attributes:t,setAttributes:l}=e,{featuredProjects:o=[]}=t,[n,a]=(0,c.useState)(null),d=e=>{const t=o.includes(e)?o.filter((t=>t!==e)):[...o,e];l({featuredProjects:t})},u=n?n.filter((e=>o.includes(e.id))):[];return(0,c.useEffect)((()=>{h()({path:"/wp/v2/projects?per_page=100"}).then((e=>a(e)),(e=>{console.error("Error fetching project data:",e),a([])}))}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(s.PanelBody,{title:"Projects",initialOpen:!0,children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"All Projects:"})}),n?n.map((e=>(0,i.jsx)("button",{onClick:()=>d(e.id),style:{display:"block",marginBottom:"4px",backgroundColor:o.includes(e.id)?"lightgreen":"transparent",border:"1px solid #ccc",padding:"4px",cursor:"pointer"},children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"Loading..."}),(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Selected Projects:"})}),u.length>0?u.map((e=>(0,i.jsx)("button",{onClick:()=>d(e.id),style:{display:"block",marginBottom:"4px",backgroundColor:"lightcoral",border:"1px solid #ccc",padding:"4px",cursor:"pointer"},children:e.title.rendered},e.id))):(0,i.jsx)("p",{children:"None selected..."})]})}),(0,i.jsx)("section",{className:"featured-projects-section",...(0,r.useBlockProps)(),children:(0,i.jsx)("div",{className:"featured-projects-container container",children:(0,i.jsx)("div",{className:"featured-projects-row row",children:u.length>0?u.map((e=>(0,i.jsxs)("div",{className:"col-sm-6 single-project",children:[(0,i.jsx)("h4",{children:e.title.rendered}),(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content.rendered}})]},e.id))):(0,i.jsx)("p",{children:"None selected..."})})})})]})},w=()=>null;(0,t.registerBlockType)("precious-works/featured-projects",{title:"Featured Projects Block",description:"This will output selected projects onto the page.",category:"precious-works",icon:"columns",supports:{anchor:!0},attributes:{featuredProjects:{type:"array",default:[]},anchor:{type:"string",default:""}},edit:e=>(0,i.jsx)(b,{...e}),save:e=>(0,i.jsx)(w,{...e})})})();